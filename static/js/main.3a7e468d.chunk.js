(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),l=a(8),i=a.n(l),r=(a(15),a(6)),s=a(1),c=a(2),u=a(4),p=a(3),m=a(5);a(16),a(17);function b(e){return n.a.createElement("header",{className:"App__header"},n.a.createElement("h1",null,e.appTitle))}b.defaultProps={appTitle:"Default App Title"};var h=b,f=(a(18),function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).onSubmitForm=function(e){e.preventDefault(),a.props.handleSubmit(e.target.query.value)},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("form",{onSubmit:this.onSubmitForm,className:"App__searchForm"},n.a.createElement("label",{htmlFor:"search"},"Search:"),n.a.createElement("input",{name:"query",type:"text",placeholder:"Title"}),n.a.createElement("button",{type:"submit"},"Search"))}}]),t}(n.a.Component));a(19);function k(e){var t=e.category,a=e.title,o=e.saleabilityOptions.length-1===0?null:e.saleabilityOptions.map(function(e,t){return n.a.createElement("option",{value:e,key:t},e.replace(/_/g," "))});return n.a.createElement("form",null,n.a.createElement("label",{htmlFor:t},a,": "),n.a.createElement("select",{id:t,name:t,onChange:function(t){return e.handleSaleability(t.target.value)}},n.a.createElement("option",{value:"ALL"},"All"),o))}function y(e){var t=e.category,a=e.title,o=e.bookFormat.length-1===0?null:e.bookFormat.map(function(e,t){return!0===e?n.a.createElement("option",{value:!0,key:t},"E-Book"):n.a.createElement("option",{value:!1,key:t},"Print")});return n.a.createElement("form",null,n.a.createElement("label",{htmlFor:t},a," Type: "),n.a.createElement("select",{id:t,name:t,onChange:function(t){return e.handleBookFormatFilter(t.target.value)}},n.a.createElement("option",{value:"null"},"All"),o))}var E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("section",{className:"App__filterSection"},n.a.createElement(y,{handleBookFormatFilter:this.props.handleBookFormatFilter,books:this.props.books,title:"Book",category:"type",bookFormat:this.props.bookFormat}),n.a.createElement(k,{handleSaleability:this.props.handleSaleability,title:"Sale Options",category:"type",saleabilityOptions:this.props.saleabilityOptions}))}}]),t}(o.Component);a(20),a(21);function v(e){console.log(e);var t=e.book.volumeInfo.title,a=e.book.volumeInfo.authors?e.book.volumeInfo.authors.toString().replace(/,/g,", "):null,o=e.book.volumeInfo.imageLinks?n.a.createElement("img",{className:"App__thumbnail",src:e.book.volumeInfo.imageLinks.smallThumbnail,alt:"".concat(t," book.")}):null,l=e.book.saleInfo.saleability?"NOT_FOR_SALE"===e.book.saleInfo.saleability?"Not available for sale.":"FREE"===e.book.saleInfo.saleability?"Free":e.book.saleInfo.retailPrice.amount?"$".concat(e.book.saleInfo.retailPrice.amount," ").concat(e.book.saleInfo.retailPrice.currencyCode):"":"",i=e.book.searchInfo?e.book.searchInfo.textSnippet:null;return n.a.createElement("section",{className:"App__listItem"},o,n.a.createElement("div",{className:"App__bookInfo"},n.a.createElement("h2",{className:"App__bookTitle"},t),n.a.createElement("p",null,"Author: ",a),n.a.createElement("p",null,l),n.a.createElement("p",null,i)))}var F=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.books.map(function(e,t){return n.a.createElement(v,{key:t,book:e})});return n.a.createElement("section",{className:"App__list"},e)}}]),t}(o.Component),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(n)))).state={items:[],bookFormat:[],saleabilityFilter:"ALL",saleabilityOptions:[],isEbook:"null"},a.handleBookFormatFilter=function(e){a.setState({isEbook:e})},a.handleSaleabilityFilter=function(e){a.setState({saleabilityFilter:e})},a.handleSearchSubmit=function(e){var t=e.trim().split(" ").join(""),o="https://www.googleapis.com/books/v1/volumes?q=".concat(t);fetch(o,{content:"application/json"}).then(function(e){if(!e.ok)throw new Error("Something went wrong");return e}).then(function(e){return e.json()}).then(function(e){a.setState({items:e.items,saleabilityOptions:a.createSaleType(e.items),bookFormat:a.createBookFormat(e.items)}),console.log(a.state.items)}).catch(function(e){console.log(e.message)})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createSaleType",value:function(e){var t=e.map(function(e){return e.saleInfo.saleability});return Object(r.a)(new Set(t))}},{key:"createBookFormat",value:function(e){var t=e.map(function(e){return e.saleInfo.isEbook});return Object(r.a)(new Set(t))}},{key:"render",value:function(){var e=this.state.items.length,t=this.state.saleabilityFilter,a=this.state.isEbook,o=e>0&&"ALL"!==t&&"false"===a?n.a.createElement(F,{books:this.state.items.filter(function(e){return e.saleInfo.saleability===t&&!1===e.saleInfo.isEbook}),printType:this.state.printType,bookType:this.state.bookType}):e>0&&"ALL"!==t&&"true"===a?n.a.createElement(F,{books:this.state.items.filter(function(e){return e.saleInfo.saleability===t&&!0===e.saleInfo.isEbook}),printType:this.state.printType,bookType:this.state.bookType}):e>0&&"ALL"!==t&&"null"===a?n.a.createElement(F,{books:this.state.items.filter(function(e){return e.saleInfo.saleability===t}),printType:this.state.printType,bookType:this.state.bookType}):e>0&&"ALL"===t&&"true"===a?n.a.createElement(F,{books:this.state.items.filter(function(e){return!0===e.saleInfo.isEbook}),printType:this.state.printType,bookType:this.state.bookType}):e>0&&"ALL"===t&&"false"===a?n.a.createElement(F,{books:this.state.items.filter(function(e){return!1===e.saleInfo.isEbook}),printType:this.state.printType,bookType:this.state.bookType}):e>0&&"ALL"===t&&"null"===a?n.a.createElement(F,{books:this.state.items,printType:this.state.printType,bookType:this.state.bookType}):null;return n.a.createElement("main",{className:"App"},n.a.createElement(h,{appTitle:"Google Book Search"}),n.a.createElement(f,{handleSubmit:this.handleSearchSubmit}),n.a.createElement(E,{handleBookFormatFilter:this.handleBookFormatFilter,handleSaleability:this.handleSaleabilityFilter,books:this.state.items,saleabilityOptions:this.state.saleabilityOptions,bookFormat:this.state.bookFormat}),o)}}]),t}(o.Component);i.a.render(n.a.createElement(T,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.3a7e468d.chunk.js.map